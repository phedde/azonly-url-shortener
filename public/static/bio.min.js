function saveBio(){$.ajax({type:"POST",url:$("form").attr("action"),data:new FormData($("form")[0]),contentType:!1,processData:!1,dataType:"json",beforeSend:function(){$("#loading").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>')},complete:function(){$("#loading span").remove()},success:function(a){$("input[name=_token]").val(a.token),a.error?$.notify({message:a.message},{type:"danger",placement:{from:"top",align:"right"}}):($.notify({message:a.message},{type:"success",placement:{from:"top",align:"right"}}),a.html&&$("body").append(a.html),$("input[type=file]").val(""),$(".card-preview iframe").attr("src",iframesrc+"?token="+Date.now()))}})}function setColor(a,t,e){e.val(t.toHexString())}function customTheme(a,t,e,l){$("input[name=theme]").val(a),$("input[name=mode]").val("custom"),$("#buttontextcolor").val(e),$("#buttontextcolor").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#buttoncolor").val(t),$("#buttoncolor").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#textcolor").val(l),$("#textcolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview, #preview h3 > span, #preview p",a,$(this))},hide:function(a){setColor("#preview, #preview h3 > span  #preview p",a,$(this)),saveBio()}})}function changeTheme(a,t,e,l,s,o,i="single"){"gradient"==i?($(".bgtype").removeClass("show"),$("#gradient").addClass("show"),$("[data-trigger=bgtype]").removeClass("border-secondary"),$("#forgradient").addClass("border-secondary"),$("input[name=theme]").val(""),$("input[name=mode]").val("gradient"),$("#bgst").val(t),$("#bgst").spectrum({color:t,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}}),$("#bgsp").val(e),$("#bgsp").spectrum({color:e,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}})):($(".bgtype").removeClass("show"),$("#singlecolor").addClass("show"),$("[data-trigger=bgtype]").removeClass("border-secondary"),$("#forsinglecolor").addClass("border-secondary"),$("input[name=theme]").val(""),$("input[name=mode]").val("singlecolor")),$("#bg").val(a),$("#bg").spectrum({color:a,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .card",a,$(this))},hide:function(a){setColor("#preview .card",a,$(this)),saveBio()}}),$("#buttontextcolor").val(s),$("#buttontextcolor").spectrum({color:s,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#buttoncolor").val(l),$("#buttoncolor").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview .btn-custom",a,$(this))},hide:function(a){setColor("#preview .btn-custom",a,$(this)),saveBio()}}),$("#textcolor").val(o),$("#textcolor").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#preview, #preview h3 > span, #preview p",a,$(this))},hide:function(a){setColor("#preview, #preview h3 > span  #preview p",a,$(this)),saveBio()}})}function fntext(a,t=null,e=null){if(t)var l=t.text;else l="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=text] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><input type="hidden" name="data['+slug(e)+'][type]" value="text"><textarea id="'+e+'_editor" class="form-control p-2" name="data['+slug(e)+'][text]" placeholder="e.g. some description here">'+l+"</textarea></div></div></div></div>";$("#linkcontent").append(s),$("#"+e+"_editor").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["para",["link","ul","ol"]]],height:100}),$("#container-"+e+" .note-editable").blur(function(){saveBio()})}function fnlink(a,t=null,e=null){var l="",s="",o="",i="",n=null,r=0,d=0;if(t)l=t.text,i=t.icon,o=t.animation,s=t.link,n=t.urlid,r=t.clicks,d=t.opennew;null==e&&(e=(Math.random()+1).toString(36).substring(2));let c='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i>'+(null!==r?'<span class="text-muted"><i class="fa fa-mouse me-1"></i> '+r+" "+(null!==n?'<a href="'+appurl+"/"+n+'/stats" class="ms-1 text-muted" target="_blank">('+biolang.stats+")</a>":"")+" </span>":"")+'<a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=link] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+e+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.icon+'</label><input type="text" class="form-control p-2 icon" name="data['+slug(e)+'][icon]" value="'+i+'" id="'+e+'_icon" placeholder="e.g. fab fa-twitter"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][text]" value="'+l+'" placeholder="e.g. My Site"></div></div></div><div class="row mt-3"><div class="col-md-12"><div class="form-group"><div class="d-flex"><label class="form-label">'+biolang.link+'</label><div class="form-check form-switch ms-auto"><input class="form-check-input" type="checkbox" data-binary="true" id="data['+slug(e)+'][opennew]" name="data['+slug(e)+'][opennew]" value="1"'+(1==d?"checked":"")+'><label class="form-check-label fw-bold" for="data['+slug(e)+'][opennew]">'+biolang.opennew+'</label></div></div><input type="hidden" name="data['+slug(e)+'][type]" value="link"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" id="'+e+'_link" placeholder="e.g. https://"></div></div></div><div class="row mt-2"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.animation+'</label><select name="data['+slug(e)+'][animation]" class="animation form-select mb-2 p-2"><option value="none" '+("none"==o?"selected":"")+">"+biolang.none+'</option><option value="shake" '+("shake"==o?"selected":"")+">"+biolang.shake+'</option><option value="scale" '+("scale"==o?"selected":"")+">"+biolang.scale+'</option><option value="jello" '+("jello"==o?"selected":"")+">"+biolang.jello+'</option><option value="vibrate" '+("vibrate"==o?"selected":"")+">"+biolang.vibrate+'</option><option value="wobble" '+("wobble"==o?"selected":"")+">"+biolang.wobble+"</option></select></div></div></div></div></div></div>";$("#linkcontent").append(c),$("#"+e+"_icon").iconpicker(),$("#"+e+"_icon").on("iconpickerSelected",function(){saveBio()}),$("#"+e+"_link").change(function(a){if(""==$(this).val())return a.preventDefault(),$.notify({message:biolang.error.link},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnyoutube(a,t=null,e=null){let l=/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com\/(watch|playlist)\?(v|list)=|\.be\/)([\w\-\_]*)(&(amp;)?‌​[\w\?‌​=]*)?/i;var s="";if(t)s=t.link;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0 py-3"><a class="text-dark d-block" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=youtube] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="youtube"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"><p class="form-text">'+biolang.tip.youtube+"</p>";$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.youtube},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnwhatsapp(a,t=null,e=null){var l="",s="";if(t)l=t.label,s=t.phone;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=whatsapp] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="whatsapp"><input type="text" class="form-control p-2" name="data['+slug(e)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][label]" value="'+l+'" placeholder=""></div></div></div></div></div>';$("#linkcontent").append(o)}function fnwhatsappmessage(a,t=null,e=null){var l="",s="",o="";if(t)l=t.label,s=t.phone;null==e&&(e=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=whatsappmessage] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="whatsappmessage"><input type="text" class="form-control p-2" name="data['+slug(e)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][label]" value="'+l+'" placeholder=""></div></div><div class="col-md-12 mt-3"><div class="form-group"><label class="form-label">'+biolang.message+'</label><textarea class="form-control p-2" name="data['+slug(e)+'][message]" placeholder="">'+o+"</textarea></div></div></div></div></div>";$("#linkcontent").append(i)}function fnphone(a,t=null,e=null){var l="",s="";if(t)l=t.label,s=t.phone;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=phone] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="phone"><input type="text" class="form-control p-2" name="data['+slug(e)+'][phone]" value="'+s+'" placeholder=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.label+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][label]" value="'+l+'" placeholder=""></div></div></div></div></div>';$("#linkcontent").append(o)}function fnspotify(a,t=null,e=null){let l=/^https:\/\/open.spotify.com\/(track|playlist)\/([a-zA-Z0-9]+)(.*)$/i;var s="";if(t)s=t.link;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=spotify] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="spotify"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"><p class="form-text">'+biolang.tip.spotify+"</p>";$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.spotify},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnitunes(a,t=null,e=null){let l=/^https:\/\/music.apple.com\/(.*)/i;var s="";if(t)s=t.link;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=itunes] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="itunes"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.itunes},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnpaypal(a,t=null,e=null){if(t)var l=t.label,s=t.email,o=t.amount,i=t.currency;else l="",s="",o="",i="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let n='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=paypal] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+e+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="paypal"><input type="text" class="form-control p-2" name="data['+slug(e)+'][label]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][email]" value="'+s+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][amount]" value="'+o+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.currency+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][currency]" value="'+i+'"></div></div></div></div></div></div>';$("#linkcontent").append(n)}function fntiktok(a,t=null,e=null){let l=/^https?:\/\/(?:www|m)\.(?:tiktok.com)\/(.*)\/video\/(.*)/i;var s="";if(t)s=t.link;null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=tiktok] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="tiktok"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.titkok},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnheading(a,t=null,e=null){var l="";if(t){l=t.text;var s=t.format,o=t.color}null==e&&(e=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=heading] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.style+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="heading"><select name="data['+slug(e)+'][format]" class="form-select mb-2 p-2"><option value="h1" '+("h1"==s?"selected":"")+'>H1</option><option value="h2" '+("h2"==s?"selected":"")+'>H2</option><option value="h3" '+("h3"==s?"selected":"")+'>H3</option><option value="h4" '+("h4"==s?"selected":"")+'>H4</option><option value="h5" '+("h5"==s?"selected":"")+'>H5</option><option value="h6" '+("h6"==s?"selected":"")+'>H6</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="heading"><input type="text" class="form-control p-2" name="data['+slug(e)+'][text]" placeholder="e.g. Bio Page" value="'+l+'"></div></div><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(e)+'][color]" value="'+o+'" class="form-control p-2"></div></div></div></div></div>';$("#linkcontent").append(i),$("[data-id="+e+"] [data-trigger=color]").spectrum({color:o,showInput:!0,preferredFormat:"hex",move:function(a){Color("#"+e,a,$(this))},hide:function(a){Color("#"+e,a,$(this)),saveBio()}})}function fndivider(a,t=null,e=null){if(t)var l=t.color,s=t.style,o=t.height;else l="",s="",o="";null===e&&(e=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=divider] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse row mt-2" id="container-'+e+'"><input type="hidden" name="data['+slug(e)+'][type]" value="divider"><div class="col-md-4"><div class="form-group"><label class="form-label">'+biolang.color+'</label><br><input type="color" data-trigger="color" name="data['+slug(e)+'][color]" value="'+l+'" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label">'+biolang.height+'</label><br><div class="form-group"><input type="number" min="1" max="10" name="data['+slug(e)+'][height]" value="'+o+'" data-trigger="height" class="form-control p-2"></select></div></div><div class="col-md-4"><label class="form-label">'+biolang.style+'</label><br><div class="form-group"><select name="data['+slug(e)+'][style]" data-trigger="style" class="form-select mb-2 p-2"><option value="solid" '+("solid"==s?"selected":"")+">"+biolang.solid+'</option><option value="dotted" '+("dotted"==s?"selected":"")+">"+biolang.dotted+'</option><option value="dashed" '+("dashed"==s?"selected":"")+">"+biolang.dashed+"</option></select></div></div></div></div></div>";$("#linkcontent").append(i),$("[data-id="+e+"] input[data-trigger=color]").spectrum({color:l,showInput:!0,preferredFormat:"hex",move:function(a){setColor("#"+e,a,$(this))},hide:function(a){setColor("#"+e,a,$(this)),saveBio()}})}function fnrss(a,t=null,e=null){let l=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i;if(t)var s=t.link;else s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=rss] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="rss"><input type="link" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=link]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.rss},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnimage(a,t=null,e=null){if(t)var l=t.link,s=t.link2;else l="",s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=image] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+' 1</label><input type="text" name="data['+slug(e)+'][link]" class="form-control p-2" placeholder="e.g. https://" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+' 1</label><input type="hidden" name="data['+slug(e)+'][type]" value="image"><input type="file" class="form-control p-2" name="'+slug(e)+'" data-for="'+e+'" accept=".jpg, .png"></div></div><div class="col-md-6 mt-2"><div class="form-group"><label class="form-label">'+biolang.link+' 2</label><input type="text" name="data['+slug(e)+'][link2]" class="form-control p-2" placeholder="e.g. https://" value="'+s+'"></div></div><div class="col-md-6 mt-2"><div class="form-group"><label class="form-label">'+biolang.file+' 2</label><input type="file" class="form-control p-2" name="'+slug(e)+'-2" data-for="'+e+'" accept=".jpg, .png"></div></div></div></div></div>';$("#linkcontent").append(o)}function fnnewsletter(a,t=null,e=null){if(t)var l=t.text;else{let t=a.parent("#modal-newsletter").find("input[name=text]");l=t.val();t.val("")}null==e&&(e=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=newsletter] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="newsletter"><input type="text" class="form-control p-2" name="data['+slug(e)+'][text]" value="'+l+'"></div></div></div></div></div>';$("#linkcontent").append(s)}function fncontact(a,t=null,e=null){if(t)var l=t.text,s=t.email;else l="",s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=contact] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][text]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="contact"><input type="text" class="form-control p-2" name="data['+slug(e)+'][email]" value="'+s+'"></div></div></div></div></div>';$("#linkcontent").append(o)}function fnvcard(a,t=null,e=null){if(t)var l=t.button,s=t.fname,o=t.lname,i=t.phone,n=t.cell,r=t.fax,d=t.email,c=t.address,p=t.city,m=t.state,u=t.country,f=t.zip,g=t.site;else l="",s="",o="",i="",n="",r="",d="",c="",p="",m="",u="",g="",f="";null==e&&(e=(Math.random()+1).toString(36).substring(2))
;let v='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=vcard] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+e+'"><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.fname+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][fname]" value="'+s+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.lname+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="vcard"><input type="text" class="form-control p-2" name="data['+slug(e)+'][lname]" value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.email+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][email]" value="'+d+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.phone+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][phone]" value="'+i+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.cell+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][cell]" value="'+n+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.fax+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][fax]" value="'+r+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.site+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][site]" value="'+g+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.address+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][address]" value="'+c+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.city+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][city]" value="'+p+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.state+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][state]" value="'+m+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.zip+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][zip]" value="'+f+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.country+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][country]" value="'+u+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2" data-trigger="vcardbutton" name="data['+slug(e)+'][button]" value="'+l+'"></div></div></div></div></div></div>';$("#linkcontent").append(v)}function fnproduct(a,t=null,e=null){if(t)var l=t.name,s=t.description,o=t.amount,i=t.link;else l="",s="",o="",i="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let n='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=product] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+e+'"><div class="row mt-2"><div class="col-md-12 mb-2"><div class="form-group"><label class="form-label">'+biolang.text+'</label><input type="text" class="form-control p-2 text" name="data['+slug(e)+'][name]" value="'+l+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.description+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="product"><input type="text" class="form-control p-2" name="data['+slug(e)+'][description]" placeholder="e.g. $9.99"  value="'+s+'"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][amount]" placeholder="e.g. $9.99"  value="'+o+'"></div></div></div><div class="row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.file+'</label><input type="file" class="form-control p-2 text" name="'+slug(e)+'" accept=".jpg, .png" value=""></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+i+'" placeholder="http://"></div></div></div></div></div></div>';$("#linkcontent").append(n)}function fnhtml(a,t=null,e=null){if(t)var l=t.html;else l="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let s='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=html] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">HTML</label><input type="hidden" name="data['+slug(e)+'][type]" value="html"><textarea class="form-control p-2" name="data['+slug(e)+'][html]" placeholder="e.g. some description here">'+l+"</textarea></div></div></div></div></div>";$("#linkcontent").append(s)}function fnopensea(a,t=null,e=null){let l=/^https?:\/\/(www.)?(opensea.io)\/assets\/(.*)\/(.*)\/(.*)/i;if(t)var s=t.link;else s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=opensea] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="opensea"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.opensea},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fntwitter(a,t=null,e=null){let l=/^https?:\/\/(www.)?(twitter.com)\/(.*)/i;if(t)var s=t.link,o=t.amount;else s="",o=1;parseInt(o)||(o=1),null==e&&(e=(Math.random()+1).toString(36).substring(2));let i='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=twitter] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="twitter"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.amount+'</label><input type="number" class="form-control p-2" name="data['+slug(e)+'][amount]" value="'+o+'" placeholder="e.g. 2"></div></div></div></div></div>';$("#linkcontent").append(i),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.twitter},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnsoundcloud(a,t=null,e=null){let l=/^https?:\/\/(www.)?(soundcloud.com)\/(.*)/i;if(t)var s=t.link;else s=ellink.val();null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=soundcloud] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="soundcloud"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.soundcloud},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fnfacebook(a,t=null,e=null){let l=/^https?:\/\/(www.)?(((.*).)?facebook.com)\/(.*)/i;if(t)var s=t.link;else s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=facebook] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="facebook"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.facebook},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fninstagram(a,t=null,e=null){let l=/^https?:\/\/(www.)?(((.*).)?instagram.com)\/(.*)/i;if(t)var s=t.link;else s="";null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=instagram] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="container-'+e+'"><div class="col-md-12"><div class="form-group"><label class="form-label">'+biolang.link+'</label><input type="hidden" name="data['+slug(e)+'][type]" value="instagram"><input type="text" class="form-control p-2" name="data['+slug(e)+'][link]" value="'+s+'" placeholder="e.g. https://"></div></div></div></div></div>';$("#linkcontent").append(o),$("#container-"+e+" input[type=text]").change(function(a){if(!$(this).val().match(l))return a.preventDefault(),$.notify({message:biolang.error.facebook},{type:"danger",placement:{from:"top",align:"right"}}),!1})}function fntagline(a,t=null,e=null){if(t)var l=t.text;else l="";let s='<div class="px-1 pt-1 border rounded widget mb-2" data-id="bio-tag"><div class="d-flex align-items-center"><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#bio-tagContainer" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=tagline] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="row collapse mt-2" id="bio-tagContainer"><div class="col-md-12"><div class="form-group"><input type="hidden" name="data[bio-tag][type]" value="tagline"><input type="text" class="form-control p-2" name="data[bio-tag][text]" value="'+l+'"></div></div></div></div></div>';$("#linkcontent").append(s)}function fnfaqs(a,t=null,e=null){if(t)var l=t.question,s=t.answer;else l=[],s=[];null==e&&(e=(Math.random()+1).toString(36).substring(2));let o='<div class="p-2 border rounded widget sortable mb-4" data-id="'+e+'"><div class="d-flex align-items-center"><i class="fs-4 fa fa-align-justify handle me-4"></i><a class="ms-auto fs-6 pt-3 pe-2 btn-close" data-bs-toggle="modal" data-bs-target="#removecard" data-trigger="removeCard" href=""></a></div><div class="card mt-2 mb-1 p-2 shadow border"><h5 class="mb-0"><a class="text-dark d-block py-3" data-bs-toggle="collapse" data-bs-target="#container-'+e+'" aria-expanded="false"><span class="align-top fw-bold">'+$("[data-type=faqs] h5").text()+'</span><i class="float-end fa fa-chevron-down"></i></a></h5><div class="collapse" id="container-'+e+'"><input type="hidden" name="data['+slug(e)+'][type]" value="faqs"><div class="faq-holder row mt-2">';l.forEach(function(a,t){o+='<div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.question+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][question][]" value="'+a+'"><button type="button" data-trigger="deletefaq" class="btn btn-sm btn-danger mt-1">'+biolang.delete+'</button></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.answer+'</label><textarea class="form-control p-2" name="data['+slug(e)+'][answer][]">'+s[t]+"</textarea></div></div>"}),o+='</div><button type="button" data-trigger="addfaq" class="btn btn-primary mt-3">'+biolang.addfaq+"</button></div></div></div>",$("#linkcontent").append(o),$("[data-trigger=addfaq]").click(function(a){a.preventDefault(),$("#container-"+e+" button[data-trigger=addfaq]").before('<div class="faq-holder row mt-2"><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.question+'</label><input type="text" class="form-control p-2" name="data['+slug(e)+'][question][]" value=""><button type="button" data-trigger="deletefaq" class="btn btn-sm btn-danger mt-1">'+biolang.delete+'</button></div></div><div class="col-md-6"><div class="form-group"><label class="form-label">'+biolang.answer+'</label><textarea class="form-control p-2" name="data['+slug(e)+'][answer][]"></textarea></div></div></div>')}),$(document).on("click","[data-trigger=deletefaq]",function(a){a.preventDefault(),$(this).parents(".faq-holder").fadeOut("fast",function(){$(this).remove()})})}function bioupdate(){for(bio in biodata){let a="fn"+biodata[bio].type;window[a]($("[data-type="+biodata[bio].type+"]"),biodata[bio],bio)}}function slug(a){a=encodeURIComponent(a),a=a.replace(/^\s+|\s+$/g,""),a=a.toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",e="aaaaeeeeiiiioooouuuunc------",l=0,s=t.length;l<s;l++)a=a.replace(new RegExp(t.charAt(l),"g"),e.charAt(l));return a=a.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),a}!function(a,t,e,l){function s(a,t){var e=Math.max(0,a[0]-t[0],t[0]-a[1]),l=Math.max(0,a[2]-t[1],t[1]-a[3]);return e+l}function o(t,e,l,s){var o=t.length,i=s?"offset":"position";for(l=l||0;o--;){var n=t[o].el?t[o].el:a(t[o]),r=n[i]();r.left+=parseInt(n.css("margin-left"),10),r.top+=parseInt(n.css("margin-top"),10),e[o]=[r.left-l,r.left+n.outerWidth()+l,r.top-l,r.top+n.outerHeight()+l]}}function i(a,t){var e=t.offset();return{left:a.left-e.left,top:a.top-e.top}}function n(a,t,e){t=[t.left,t.top],e=e&&[e.left,e.top];for(var l,o=a.length,i=[];o--;)l=a[o],i[o]=[o,s(l,t),e&&s(l,e)];return i=i.sort(function(a,t){return t[1]-a[1]||t[2]-a[2]||t[0]-a[0]}),i}function r(t){this.options=a.extend({},p,t),this.containers=[],this.options.rootGroup||(this.scrollProxy=a.proxy(this.scroll,this),this.dragProxy=a.proxy(this.drag,this),this.dropProxy=a.proxy(this.drop,this),this.placeholder=a(this.options.placeholder),t.isValidTarget||(this.options.isValidTarget=l))}function d(t,e){this.el=t,this.options=a.extend({},c,e),this.group=r.get(this.options),this.rootGroup=this.options.rootGroup||this.group,this.handle=this.rootGroup.options.handle||this.rootGroup.options.itemSelector;var l=this.rootGroup.options.itemPath;this.target=l?this.el.find(l):this.el,this.target.on(g.start,this.handle,a.proxy(this.dragInit,this)),this.options.drop&&this.group.containers.push(this)}var c={drag:!0,drop:!0,exclude:"",nested:!0,vertical:!0},p={afterMove:function(a,t,e){},containerPath:"",containerSelector:"ol, ul",distance:0,delay:0,handle:"",itemPath:"",itemSelector:"li",bodyClass:"dragging",draggedClass:"dragged",isValidTarget:function(a,t){return!0},onCancel:function(a,t,e,l){},onDrag:function(a,t,e,l){a.css(t)},onDragStart:function(t,e,l,s){t.css({height:t.outerHeight(),width:t.outerWidth()}),t.addClass(e.group.options.draggedClass),a("body").addClass(e.group.options.bodyClass)},onDrop:function(t,e,l,s){t.removeClass(e.group.options.draggedClass).removeAttr("style"),a("body").removeClass(e.group.options.bodyClass)},onMousedown:function(a,t,e){if(!e.target.nodeName.match(/^(input|select|textarea)$/i))return e.preventDefault(),!0},placeholderClass:"placeholder",placeholder:'<li class="placeholder"></li>',pullPlaceholder:!0,serialize:function(t,e,l){var s=a.extend({},t.data());return l?[e]:(e[0]&&(s.children=e),delete s.subContainers,delete s.sortable,s)},tolerance:0},m={},u=0,f={left:0,top:0,bottom:0,right:0},g={start:"touchstart.sortable mousedown.sortable",drop:"touchend.sortable touchcancel.sortable mouseup.sortable",drag:"touchmove.sortable mousemove.sortable",scroll:"scroll.sortable"},v="subContainers";r.get=function(a){return m[a.group]||(a.group===l&&(a.group=u++),m[a.group]=new r(a)),m[a.group]},r.prototype={dragInit:function(t,e){this.$document=a(e.el[0].ownerDocument);var l=a(t.target).closest(this.options.itemSelector);if(l.length){if(this.item=l,this.itemContainer=e,this.item.is(this.options.exclude)||!this.options.onMousedown(this.item,p.onMousedown,t))return;this.setPointer(t),this.toggleListeners("on"),this.setupDelayTimer(),this.dragInitDone=!0}},drag:function(a){if(!this.dragging){if(!this.distanceMet(a)||!this.delayMet)return;this.options.onDragStart(this.item,this.itemContainer,p.onDragStart,a),this.item.before(this.placeholder),this.dragging=!0}this.setPointer(a),this.options.onDrag(this.item,i(this.pointer,this.item.offsetParent()),p.onDrag,a);var t=this.getPointer(a),e=this.sameResultBox,s=this.options.tolerance;(!e||e.top-s>t.top||e.bottom+s<t.top||e.left-s>t.left||e.right+s<t.left)&&(this.searchValidTarget()||(this.placeholder.detach(),this.lastAppendedItem=l))},drop:function(a){this.toggleListeners("off"),this.dragInitDone=!1,this.dragging&&(this.placeholder.closest("html")[0]?this.placeholder.before(this.item).detach():this.options.onCancel(this.item,this.itemContainer,p.onCancel,a),this.options.onDrop(this.item,this.getContainer(this.item),p.onDrop,a),this.clearDimensions(),this.clearOffsetParent(),this.lastAppendedItem=this.sameResultBox=l,this.dragging=!1)},searchValidTarget:function(a,t){a||(a=this.relativePointer||this.pointer,t=this.lastRelativePointer||this.lastPointer);for(var e=n(this.getContainerDimensions(),a,t),s=e.length;s--;){var o=e[s][0],r=e[s][1];if(!r||this.options.pullPlaceholder){var d=this.containers[o];if(!d.disabled){if(!this.$getOffsetParent()){var c=d.getItemOffsetParent();a=i(a,c),t=i(t,c)}if(d.searchValidTarget(a,t))return!0}}}this.sameResultBox&&(this.sameResultBox=l)},movePlaceholder:function(a,t,e,l){var s=this.lastAppendedItem;!l&&s&&s[0]===t[0]||(t[e](this.placeholder),this.lastAppendedItem=t,this.sameResultBox=l,this.options.afterMove(this.placeholder,a,t))},getContainerDimensions:function(){return this.containerDimensions||o(this.containers,this.containerDimensions=[],this.options.tolerance,!this.$getOffsetParent()),this.containerDimensions},getContainer:function(a){return a.closest(this.options.containerSelector).data(e)},$getOffsetParent:function(){if(this.offsetParent===l){var a=this.containers.length-1,t=this.containers[a].getItemOffsetParent();if(!this.options.rootGroup)for(;a--;)if(t[0]!=this.containers[a].getItemOffsetParent()[0]){t=!1;break}this.offsetParent=t}return this.offsetParent},setPointer:function(a){var t=this.getPointer(a);if(this.$getOffsetParent()){var e=i(t,this.$getOffsetParent());this.lastRelativePointer=this.relativePointer,this.relativePointer=e}this.lastPointer=this.pointer,this.pointer=t},distanceMet:function(a){var t=this.getPointer(a);return Math.max(Math.abs(this.pointer.left-t.left),Math.abs(this.pointer.top-t.top))>=this.options.distance},getPointer:function(a){var t=a.originalEvent||a.originalEvent.touches&&a.originalEvent.touches[0];return{left:a.pageX||t.pageX,top:a.pageY||t.pageY}},setupDelayTimer:function(){var a=this;this.delayMet=!this.options.delay,this.delayMet||(clearTimeout(this._mouseDelayTimer),this._mouseDelayTimer=setTimeout(function(){a.delayMet=!0},this.options.delay))},scroll:function(a){this.clearDimensions(),this.clearOffsetParent()},toggleListeners:function(t){var e=this,l=["drag","drop","scroll"];a.each(l,function(a,l){e.$document[t](g[l],e[l+"Proxy"])})},clearOffsetParent:function(){this.offsetParent=l},clearDimensions:function(){this.traverse(function(a){a._clearDimensions()})},traverse:function(a){a(this);for(var t=this.containers.length;t--;)this.containers[t].traverse(a)},_clearDimensions:function(){this.containerDimensions=l},_destroy:function(){m[this.options.group]=l}},d.prototype={dragInit:function(a){var t=this.rootGroup;!this.disabled&&!t.dragInitDone&&this.options.drag&&this.isValidDrag(a)&&t.dragInit(a,this)},isValidDrag:function(a){return 1==a.which||"touchstart"==a.type&&1==a.originalEvent.touches.length},searchValidTarget:function(a,t){var e=n(this.getItemDimensions(),a,t),l=e.length,s=this.rootGroup,o=!s.options.isValidTarget||s.options.isValidTarget(s.item,this);if(!l&&o)return s.movePlaceholder(this,this.target,"append"),!0;for(;l--;){var i=e[l][0],r=e[l][1];if(!r&&this.hasChildGroup(i)){var d=this.getContainerGroup(i).searchValidTarget(a,t);if(d)return!0}else if(o)return this.movePlaceholder(i,a),!0}},movePlaceholder:function(t,e){var l=a(this.items[t]),s=this.itemDimensions[t],o="after",i=l.outerWidth(),n=l.outerHeight(),r=l.offset(),d={left:r.left,right:r.left+i,top:r.top,bottom:r.top+n};if(this.options.vertical){var c=(s[2]+s[3])/2,p=e.top<=c;p?(o="before",d.bottom-=n/2):d.top+=n/2}else{var m=(s[0]+s[1])/2,u=e.left<=m;u?(o="before",d.right-=i/2):d.left+=i/2}this.hasChildGroup(t)&&(d=f),this.rootGroup.movePlaceholder(this,l,o,d)},getItemDimensions:function(){return this.itemDimensions||(this.items=this.$getChildren(this.el,"item").filter(":not(."+this.group.options.placeholderClass+", ."+this.group.options.draggedClass+")").get(),o(this.items,this.itemDimensions=[],this.options.tolerance)),this.itemDimensions},getItemOffsetParent:function(){var a,t=this.el;return a="relative"===t.css("position")||"absolute"===t.css("position")||"fixed"===t.css("position")?t:t.offsetParent(),a},hasChildGroup:function(a){return this.options.nested&&this.getContainerGroup(a)},getContainerGroup:function(t){var s=a.data(this.items[t],v);if(s===l){var o=this.$getChildren(this.items[t],"container");if(s=!1,o[0]){var i=a.extend({},this.options,{rootGroup:this.rootGroup,group:u++});s=o[e](i).data(e).group}a.data(this.items[t],v,s)}return s},$getChildren:function(t,e){var l=this.rootGroup.options,s=l[e+"Path"],o=l[e+"Selector"];return t=a(t),s&&(t=t.find(s)),t.children(o)},_serialize:function(t,e){var l=this,s=e?"item":"container",o=this.$getChildren(t,s).not(this.options.exclude).map(function(){return l._serialize(a(this),!e)}).get();return this.rootGroup.options.serialize(t,o,e)},traverse:function(t){a.each(this.items||[],function(e){var l=a.data(this,v);l&&l.traverse(t)}),t(this)},_clearDimensions:function(){this.itemDimensions=l},_destroy:function(){var t=this;this.target.off(g.start,this.handle),this.el.removeData(e),this.options.drop&&(this.group.containers=a.grep(this.group.containers,function(a){return a!=t})),a.each(this.items||[],function(){a.removeData(this,v)})}};var h={enable:function(){this.traverse(function(a){a.disabled=!1})},disable:function(){this.traverse(function(a){a.disabled=!0})},serialize:function(){return this._serialize(this.el,!0)},refresh:function(){this.traverse(function(a){a._clearDimensions()})},destroy:function(){this.traverse(function(a){a._destroy()})}};a.extend(d.prototype,h),a.fn[e]=function(t){var s=Array.prototype.slice.call(arguments,1);return this.map(function(){var o=a(this),i=o.data(e);return i&&h[t]?h[t].apply(i,s)||this:(i||t!==l&&"object"!=typeof t||o.data(e,new d(o,t)),this)})}}(jQuery,window,"sortable");let iframesrc=$(".card-preview iframe").attr("src");$(document).ready(function(){$(document).on("change","input,textarea,select",function(){saveBio()}),$(document).on("submit","form",function(){saveBio()}),$("[data-trigger=switcher]").click(function(a){if(a.preventDefault(),$(this).hasClass("active"))return!1;$(".switcher").fadeOut("fast"),$($(this).attr("href")).show(),$(this).parents(".nav").find("a").removeClass("active"),$(this).addClass("active")}),$("[data-trigger=bgtype]").click(function(){if($(this).hasClass("active"))return!1;$(".bgtype").fadeOut("fast").removeClass("show"),$($(this).attr("href")).addClass("show"),$("[data-trigger=bgtype]").removeClass("active"),$(this).addClass("active")});var a=[];$("[data-trigger=addsocial]").click(function(t){t.preventDefault();let e=$(this).parents(".card").find("select[name=platform]").val(),l=$(this).parents(".card").find("input[name=socialink]").val(),s=/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/;if(l.length<5||!s.test(l))return $.notify({message:$(this).data("error")},{type:"danger",placement:{from:"top",align:"right"}}),!1;if(a.includes(e))return $.notify({message:$(this).data("error-alt")},{type:"danger",placement:{from:"top",align:"right"}}),!1;a.push(e);let o='<div class="input-group mb-3 border rounded p-2"><div class="input-group-text bg-white"><i class="fab fa-'+e+'"></i></div><input type="text" class="form-control p-2" name="social['+e+']" placeholder="https://" value="'+l+'"></div>';$("#sociallinksholder").removeClass("d-none").append(o),saveBio()}),$(document).on("click","[data-trigger=removesocial]",function(a){a.preventDefault(),$(this).parents(".input-group").fadeOut("medium",function(){$(this).remove(),saveBio()})}),$("[data-trigger=bgtype]").click(function(){$("[data-trigger=bgtype]").removeClass("border-secondary");let a=$(this).attr("href").replace("#","");$("input[name=mode]").val(a),$("input[name=theme]").val(""),$("#singlecolor,#gradient,#image").removeAttr("style"),$(this).addClass("border-secondary"),saveBio()}),$("[data-trigger=choosefont]").on("click",function(){$("[data-trigger=choosefont]").removeClass("border-secondary"),$(this).addClass("border-secondary")}),$("[data-trigger=chooselayout]").on("click",function(){$("[data-trigger=chooselayout]").removeClass("border-secondary"),$(this).addClass("border-secondary"),"layout2"==$(this).data("value")||"layout3"==$(this).data("value")?$("#layoutbanner").addClass("show"):$("#layoutbanner").removeClass("show")}),$("#linkcontent").sortable({containerSelector:"#linkcontent",handle:".handle",itemSelector:".sortable",placeholder:'<div class="card p-4 bg-secondary shadow-none border"></div>',onMousedown:function(a,t,e){if(!e.target.nodeName.match(/^(input|select|textarea)$/i))return e.preventDefault(),!0},onDrop:function(a,t,e,l){a.removeClass(t.group.options.draggedClass).removeAttr("style"),$("body").removeClass(t.group.options.bodyClass),saveBio()}}),$("[data-trigger=insertcontent]").click(function(a){a.preventDefault();let t="fn"+$(this).data("type");if($(".alt-error").remove(),void 0!==t){let a=window[t]($(this));if(!1===a)return;$("#contentModal div").removeClass("show"),$("#options").addClass("show"),$("#contentModal .btn-close").click(),saveBio()}}),$(document).on("click","[data-trigger=removeCard]",function(a){a.preventDefault();let t=$(this).parents(".widget").data("id");$("a[data-trigger=confirmremove]").data("id",t)}),$(document).on("click","[data-trigger=confirmremove]",function(a){a.preventDefault();let t=$(this).data("id");$("[data-id="+t+"]").remove(),$("#preview").find("#"+t).parent(".item").remove(),$("#removecard .btn-close").click(),saveBio()}),$("#dividercolor").spectrum({color:"#000000",showInput:!0,preferredFormat:"hex"}),$("#avatar").change(function(){for(var a,t=$(this).prop("files"),e=0;a=t[e];e++)if(!["image/jpeg","image/jpg","image/png"].includes(a.type)||a.size>512e3)$.notify({message:$("#avatar").data("error")},{type:"danger",placement:{from:"top",align:"right"}});else{var l=new FileReader;l.onload=function(a){$("#useravatar").attr("src",a.target.result)},l.readAsDataURL(a)}}),$("[data-trigger=uploadavatar]").click(function(a){a.preventDefault(),$("#avatar").click()}),$("#bgimage").change(function(){
for(var a,t=$(this).prop("files"),e=0;a=t[e];e++)(!["image/jpeg","image/jpg","image/png"].includes(a.type)||a.size>1048576)&&$.notify({message:$("#bgimage").data("error")},{type:"danger",placement:{from:"top",align:"right"}})}),$("[data-trigger=color]").each(function(){var a="#000000";$(this).data("default")&&(a=$(this).data("default")),$(this).spectrum({color:a,showInput:!0,preferredFormat:"hex"})}),$("[data-trigger=changetheme]").click(function(){saveBio()})});